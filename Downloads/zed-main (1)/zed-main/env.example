# Configuration pour le serveur Zed Collab
# Copiez ce fichier et remplissez les valeurs pour votre environnement

# ============================================
# VARIABLES OBLIGATOIRES
# ============================================

# Port HTTP (Render utilise automatiquement PORT, mais on mappe vers HTTP_PORT)
HTTP_PORT=10000

# Base de données PostgreSQL
# Format: postgresql://user:password@host:port/dbname
# Pour Render: utilisez l'Internal Database URL depuis le dashboard
DATABASE_URL=postgresql://user:password@host:port/dbname

# Token API - Générez un token sécurisé avec: openssl rand -hex 32
API_TOKEN=votre_token_securise_ici

# Préfixe pour les liens d'invitation
INVITE_LINK_PREFIX=https://zed.dev/invite/

# Environnement (development, staging, production)
ZED_ENVIRONMENT=production

# Nombre maximum de connexions à la base de données
# Pour 512 MB: utilisez 10-20
# Pour 1 GB+: utilisez 20-50
DATABASE_MAX_CONNECTIONS=20

# Configuration du logging
RUST_LOG=info  # debug, info, warn, error
LOG_JSON=true  # true pour JSON, false pour texte

# ============================================
# VARIABLES OPTIONNELLES - LiveKit
# ============================================
# LiveKit est utilisé pour l'audio/vidéo en temps réel
# Laissez vide si vous n'utilisez pas ces fonctionnalités

# LIVEKIT_SERVER=https://livekit.example.com
# LIVEKIT_KEY=votre_cle_livekit
# LIVEKIT_SECRET=votre_secret_livekit

# ============================================
# VARIABLES OPTIONNELLES - Blob Store
# ============================================
# Pour le stockage de fichiers (extensions, assets, etc.)
# Compatible avec S3 ou MinIO

# BLOB_STORE_URL=https://s3.amazonaws.com
# BLOB_STORE_REGION=us-east-1
# BLOB_STORE_ACCESS_KEY=votre_access_key
# BLOB_STORE_SECRET_KEY=votre_secret_key
# BLOB_STORE_BUCKET=zed-bucket

# ============================================
# VARIABLES OPTIONNELLES - LLM Database
# ============================================
# Base de données séparée pour les fonctionnalités IA

# LLM_DATABASE_URL=postgresql://user:password@host:port/llm_db
# LLM_DATABASE_MAX_CONNECTIONS=10
# LLM_API_SECRET=votre_secret_llm

# ============================================
# VARIABLES OPTIONNELLES - Clés API IA
# ============================================

# OPENAI_API_KEY=sk-...
# GOOGLE_AI_API_KEY=...
# ANTHROPIC_API_KEY=sk-ant-...
# ANTHROPIC_STAFF_API_KEY=sk-ant-...

# ============================================
# VARIABLES OPTIONNELLES - Autres
# ============================================

# Pour Kinesis (streaming d'événements)
# KINESIS_REGION=us-east-1
# KINESIS_STREAM=zed-events
# KINESIS_ACCESS_KEY=...
# KINESIS_SECRET_KEY=...

# Pour Prediction API
# PREDICTION_API_URL=https://api.example.com
# PREDICTION_API_KEY=...
# PREDICTION_MODEL=model-name

# Seed path (pour initialiser la base de données avec des données de test)
# SEED_PATH=/app/seed.json

# ============================================
# NOTES
# ============================================
# 
# 1. Les variables MIGRATIONS_PATH et LLM_DATABASE_MIGRATIONS_PATH
#    sont automatiquement définies par le Dockerfile
#
# 2. Sur Render, certaines variables sont automatiquement fournies:
#    - PORT (mappé vers HTTP_PORT dans le Dockerfile)
#    - DATABASE_URL (si vous liez une base de données)
#
# 3. Pour générer un API_TOKEN sécurisé:
#    openssl rand -hex 32
#
# 4. Pour un déploiement minimal (512 MB), vous n'avez besoin que de:
#    - HTTP_PORT
#    - DATABASE_URL
#    - API_TOKEN
#    - INVITE_LINK_PREFIX
#    - ZED_ENVIRONMENT
#    - DATABASE_MAX_CONNECTIONS
#    - RUST_LOG
#    - LOG_JSON

